{"remainingRequest":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!V:\\qfsx\\VideoSystem\\vue-element-admin\\src\\views\\edituser\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\src\\views\\edituser\\index.vue","mtime":1653307611737},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\babel.config.js","mtime":1653307611687},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEltYWdlQ3JvcHBlciBmcm9tICdAL2NvbXBvbmVudHMvSW1hZ2VDcm9wcGVyJzsKaW1wb3J0IFBhblRodW1iIGZyb20gJ0AvY29tcG9uZW50cy9QYW5UaHVtYic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJbWFnZUNyb3BwZXI6IEltYWdlQ3JvcHBlciwKICAgIFBhblRodW1iOiBQYW5UaHVtYgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlY3JvcHBlclNob3c6IGZhbHNlLAogICAgICBpbWFnZWNyb3BwZXJLZXk6IDAsCiAgICAgIHVzZXI6IHsKICAgICAgICAndFN0YXRlJzogewogICAgICAgICAgJ3N0YXRlSWQnOiBudWxsLAogICAgICAgICAgJ3N0YXRlTmFtZSc6ICforqTor4HkuK0nCiAgICAgICAgfSwKICAgICAgICAndXNlcklkJzogMSwKICAgICAgICAndXNlck5hbWUnOiAneW91cm5hbWUnLAogICAgICAgICd1c2VyQWdlJzogMTIzNDU2LAogICAgICAgICd1c2VyU2V4JzogJ+eUtycsCiAgICAgICAgJ3Bhc3N3b3JkJzogJzEyMzQ1NicsCiAgICAgICAgJ2VuY3J5cHRlZFByb2JsZW0nOiAnMTIzJywKICAgICAgICAnZmFuTnVtJzogbnVsbCwKICAgICAgICAndXNlclRlbCc6ICcxNTU2NjY2NjYyNicsCiAgICAgICAgJ3JlZ2lzdGVyRGF0ZSc6ICcyMDIxLTA0LTE3IDE1OjE3OjEwJywKICAgICAgICAnaWNvblVybCc6ICdodHRwOi8vbG9jYWxob3N0OjgwODEvdXNlci9nZXRJY29uL2ljb24xLmpwZycsCiAgICAgICAgJ3N0YXRlSWQnOiAxCiAgICAgIH0sCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICBpbWFnZTogJycsCiAgICAgIHVwbG9hZFVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hZG1pbi91cGxvYWQ/dXNlcklkPScKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGFCeUlkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGFCeUlkOiBmdW5jdGlvbiBmZXRjaERhdGFCeUlkKCkgewogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIHRoaXMudXBsb2FkVXJsID0gdGhpcy51cGxvYWRVcmwgKyBpZDsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjgwODEvYWRtaW4vZ2V0VXNlckJ5SWQ/aWQ9JyArIGlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICB2bS51c2VyID0gcmVzcC5kYXRhOwogICAgICAgIHZtLmltYWdlID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MScgKyB2bS51c2VyLmljb25Vcmw7CiAgICAgIH0pOwogICAgfSwKICAgIGNyb3BTdWNjZXNzOiBmdW5jdGlvbiBjcm9wU3VjY2VzcyhyZXNEYXRhKSB7CiAgICAgIHRoaXMuaW1hZ2Vjcm9wcGVyU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmltYWdlY3JvcHBlcktleSA9IHRoaXMuaW1hZ2Vjcm9wcGVyS2V5ICsgMTsKICAgICAgdGhpcy5pbWFnZSA9IHJlc0RhdGE7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbXBsaWVkLWV2YWwKCiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmiJDlip8nLAogICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICB9KTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy5pbWFnZWNyb3BwZXJTaG93ID0gZmFsc2U7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBkYXRhOiB2bS51c2VyLAogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hZG1pbi9lZGl0VXNlcicKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHZtLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8nLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgICAgdm0uJHJvdXRlci5wdXNoKCcvdXNlcicpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNhbmNlbDogZnVuY3Rpb24gb25DYW5jZWwoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICfov5Tlm57kuK0hJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdXNlcicpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AAEA;EACAA;IAAAC;IAAAC;EAAA,CADA;EAEAC,IAFA,kBAEA;IACA;MACAC,uBADA;MAEAC,kBAFA;MAGAC;QACA;UACA,eADA;UAEA;QAFA,CADA;QAKA,WALA;QAMA,sBANA;QAOA,iBAPA;QAQA,cARA;QASA,oBATA;QAUA,yBAVA;QAWA,cAXA;QAYA,wBAZA;QAaA,qCAbA;QAcA,yDAdA;QAeA;MAfA,CAHA;MAoBA;MACAC,SArBA;MAsBAC;IAtBA;EAwBA,CA3BA;EA4BAC,OA5BA,qBA4BA;IACA;EACA,CA9BA;EA+BAC;IACAC,aADA,2BACA;MACA;MACA;MACA;MACA;QACAC,aADA;QAEAC;MAFA,GAGAC,IAHA,CAGA;QACAC;QACAA;MACA,CANA;IAOA,CAZA;IAcAC,WAdA,uBAcAC,OAdA,EAcA;MACA;MACA;MACA,qBAHA,CAIA;;MAEA;QACAC,eADA;QAEAC,eAFA;QAGAC;MAHA;MAKAC;QACAC;MACA,CAFA,EAEA,IAFA;IAGA,CA5BA;IA6BAC,KA7BA,mBA6BA;MACA;IACA,CA/BA;IAgCAC,QAhCA,sBAgCA;MACA;MACA;QACAZ,cADA;QAEAT,aAFA;QAGAU;MAHA,GAIAC,IAJA,CAIA;QACAC;UACAG,eADA;UAEAC;QAFA;QAIAJ;MACA,CAVA;IAWA,CA7CA;IA8CAU,QA9CA,sBA8CA;MACA;QACAP,eADA;QAEAC;MAFA;MAIA;IACA;EApDA;AA/BA","names":["components","ImageCropper","PanThumb","data","imagecropperShow","imagecropperKey","user","image","uploadUrl","created","methods","fetchDataById","method","url","then","vm","cropSuccess","resData","message","type","duration","setTimeout","location","close","onSubmit","onCancel"],"sourceRoot":"src/views/edituser","sources":["index.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"app-container\">\r\n    <el-form ref=\"form\" :model=\"user\" label-width=\"120px\">\r\n      <el-form-item label=\"用户名\">\r\n        <el-input v-model=\"user.userName\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户年龄\">\r\n        <el-input v-model=\"user.userAge\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"性别\">\r\n        <el-radio-group v-model=\"user.userSex\">\r\n          <el-radio label=\"男\" value=\"男\"/>\r\n          <el-radio label=\"女\" value=\"女\"/>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"密保问题\">\r\n        <el-input v-model=\"user.encryptedProblem\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户密码\">\r\n        <el-input type=\"password\" v-model=\"user.password\"/>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"用户电话\">\r\n        <el-input v-model=\"user.userTel\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户状态\">\r\n        <el-select v-model=\"user.stateId\" placeholder=\"请选择\">\r\n          <el-option label=\"认证中\" value=\"1\"/>\r\n          <el-option label=\"已认证\" value=\"2\"/>\r\n          <el-option label=\"认证失败\" value=\"3\"/>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">编辑</el-button>\r\n        <el-button @click=\"onCancel()\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <pan-thumb :image=\"image\"/>\r\n\r\n    <el-button type=\"primary\" icon=\"el-icon-upload\" style=\"position: absolute;bottom: 15px;margin-left: 40px;\"\r\n               @click=\"imagecropperShow=true\"\r\n    >\r\n      修改头像\r\n    </el-button>\r\n\r\n    <image-cropper\r\n      v-show=\"imagecropperShow\"\r\n      :key=\"imagecropperKey\"\r\n      :width=\"300\"\r\n      :height=\"300\"\r\n      :url=\"uploadUrl\"\r\n      lang-type=\"en\"\r\n      @close=\"close\"\r\n      @crop-upload-success=\"cropSuccess\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageCropper from '@/components/ImageCropper'\r\nimport PanThumb from '@/components/PanThumb'\r\n\r\nexport default {\r\n  components: { ImageCropper, PanThumb },\r\n  data() {\r\n    return {\r\n      imagecropperShow: false,\r\n      imagecropperKey: 0,\r\n      user: {\r\n        'tState': {\r\n          'stateId': null,\r\n          'stateName': '认证中'\r\n        },\r\n        'userId': 1,\r\n        'userName': 'yourname',\r\n        'userAge': 123456,\r\n        'userSex': '男',\r\n        'password': '123456',\r\n        'encryptedProblem': '123',\r\n        'fanNum': null,\r\n        'userTel': '15566666626',\r\n        'registerDate': '2021-04-17 15:17:10',\r\n        'iconUrl': 'http://localhost:8081/user/getIcon/icon1.jpg',\r\n        'stateId': 1\r\n      },\r\n      // eslint-disable-next-line no-undef\r\n      image: '',\r\n      uploadUrl: 'http://localhost:8081/admin/upload?userId='\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchDataById()\r\n  },\r\n  methods: {\r\n    fetchDataById() {\r\n      var id = this.$route.params.id\r\n      this.uploadUrl = this.uploadUrl + id\r\n      var vm = this\r\n      this.axios({\r\n        method: 'GET',\r\n        url: 'http://localhost:8081/admin/getUserById?id=' + id\r\n      }).then(function(resp) {\r\n        vm.user = resp.data\r\n        vm.image = 'http://localhost:8081' + vm.user.iconUrl\r\n      })\r\n    },\r\n\r\n    cropSuccess(resData) {\r\n      this.imagecropperShow = false\r\n      this.imagecropperKey = this.imagecropperKey + 1\r\n      this.image = resData\r\n      // eslint-disable-next-line no-implied-eval\r\n\r\n      this.$message({\r\n        message: '上传成功',\r\n        type: 'success',\r\n        duration: 2000\r\n      })\r\n      setTimeout(function() {\r\n        location.reload()\r\n      }, 1000)\r\n    },\r\n    close() {\r\n      this.imagecropperShow = false\r\n    },\r\n    onSubmit() {\r\n      var vm = this\r\n      this.axios({\r\n        method: 'POST',\r\n        data: vm.user,\r\n        url: 'http://localhost:8081/admin/editUser'\r\n      }).then(function(resp) {\r\n        vm.$message({\r\n          message: '修改成功',\r\n          type: 'success'\r\n        })\r\n        vm.$router.push('/user')\r\n      })\r\n    },\r\n    onCancel() {\r\n      this.$message({\r\n        message: '返回中!',\r\n        type: 'success'\r\n      })\r\n      this.$router.push('/user')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.line {\r\n  text-align: center;\r\n}\r\n\r\n.el-input {\r\n  width: 200px;\r\n}\r\n\r\n.avatar {\r\n  width: 200px;\r\n  height: 200px;\r\n  border-radius: 50%;\r\n}\r\n</style>\r\n\r\n"]}]}