{"remainingRequest":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\vue-ele-upload-video\\lib\\EleUploadVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\vue-ele-upload-video\\lib\\EleUploadVideo.vue","mtime":499162500000},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\babel.config.js","mtime":1653307611687},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"V:\\qfsx\\VideoSystem\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlSG92ZXJNYXNrIGZyb20gInZ1ZS1ob3Zlci1tYXNrIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFbGVVcGxvYWRWaWRlbyIsCiAgY29tcG9uZW50czogewogICAgVnVlSG92ZXJNYXNrOiBWdWVIb3Zlck1hc2sKICB9LAogIHByb3BzOiB7CiAgICAvLyDlgLwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIC8vIOS4iuS8oOWcsOWdgAogICAgYWN0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICAvLyDlk43lupTlpITnkIblh73mlbAKICAgIHJlc3BvbnNlRm46IEZ1bmN0aW9uLAogICAgLy8g5paH5Lu25aSn5bCP6ZmQ5Yi2KE1iKQogICAgZmlsZVNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgLy8g5pi+56S65a695bqmKHB4KQogICAgd2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzNjAKICAgIH0sCiAgICAvLyDmmL7npLrpq5jluqYo6buY6K6kYXV0bykKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICAvLyDmmK/lkKbmmL7npLrmj5DnpLoKICAgIGlzU2hvd1RpcDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5piv5ZCm5pi+56S65LiK5Lyg5oiQ5Yqf55qE5o+Q56S6CiAgICBpc1Nob3dTdWNjZXNzVGlwOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICAvLyDmlofku7bnsbvlnosKICAgIGZpbGVUeXBlOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9LAogICAgLy8g6K6+572u5LiK5Lyg55qE6K+35rGC5aS06YOoKOWQjOWumOe9kSkKICAgIGhlYWRlcnM6IE9iamVjdCwKICAgIC8vIOaUr+aMgeWPkemAgSBjb29raWUg5Yet6K+B5L+h5oGvICjlkIzlrpjnvZEpCiAgICB3aXRoQ3JlZGVudGlhbHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDkuIrkvKDml7bpmYTluKbnmoTpop3lpJblj4LmlbAo5ZCM5a6Y572RKQogICAgZGF0YTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICAvLyDkuIrkvKDnmoTmlofku7blrZfmrrXlkI0gKOWQjOWumOe9kSkKICAgIG5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiZmlsZSIKICAgIH0sCiAgICAvLyDopobnm5bpu5jorqTnmoTkuIrkvKDooYzkuLrvvIzlj6/ku6Xoh6rlrprkuYnkuIrkvKDnmoTlrp7njrAgKOWQjOWumOe9kSkKICAgIGh0dHBSZXF1ZXN0OiBGdW5jdGlvbiwKICAgIC8vIOaOpeWPl+S4iuS8oOeahOaWh+S7tuexu+Wei++8iHRodW1ibmFpbC1tb2RlIOaooeW8j+S4i+atpOWPguaVsOaXoOaViO+8iSjlkIzlrpjnvZEpCiAgICBhY2NlcHQ6IFN0cmluZywKICAgIC8vIOWIoOmZpOWJjeeahOaTjeS9nCjlkIzlrpjnvZEpCiAgICBiZWZvcmVSZW1vdmU6IEZ1bmN0aW9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaG93VmlkZW86IGZhbHNlLAogICAgICB2aWRlb1VwbG9hZFBlcmNlbnQ6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5piv5ZCm5pi+56S65o+Q56S6CiAgICBzaG93VGlwOiBmdW5jdGlvbiBzaG93VGlwKCkgewogICAgICByZXR1cm4gdGhpcy5pc1Nob3dUaXAgJiYgKHRoaXMuZmlsZVR5cGUgfHwgdGhpcy5maWxlU2l6ZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDkuIrkvKDlpKflsI/lkozmoLzlvI/mo4DmtYsKICAgIGhhbmRsZUJlZm9yZVVwbG9hZFZpZGVvOiBmdW5jdGlvbiBoYW5kbGVCZWZvcmVVcGxvYWRWaWRlbyhmaWxlKSB7CiAgICAgIC8vIOagoeajgOagvOW8jwogICAgICB2YXIgaXNWaWRlbyA9IGZhbHNlOwoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5maWxlVHlwZSkpIHsKICAgICAgICB2YXIgdHlwZSA9IGZpbGUudHlwZS5zcGxpdCgiLyIpOwogICAgICAgIGlzVmlkZW8gPSB0eXBlWzBdID09PSAidmlkZW8iICYmIHRoaXMuZmlsZVR5cGUuaW5jbHVkZXModHlwZVsxXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXNWaWRlbyA9IGZpbGUudHlwZS5pbmNsdWRlcygidmlkZW8iKTsKICAgICAgfQoKICAgICAgaWYgKCFpc1ZpZGVvKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiIi5jb25jYXQoZmlsZS5uYW1lLCAiXHU2ODNDXHU1RjBGXHU0RTBEXHU2QjYzXHU3ODZFLCBcdThCRjdcdTRFMEFcdTRGMjBcdTY4M0NcdTVGMEZcdTZCNjNcdTc4NkVcdTc2ODRcdTg5QzZcdTk4OTEiKSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIOagoeajgOaWh+S7tuWkp+WwjwoKCiAgICAgIGlmICh0aGlzLmZpbGVTaXplKSB7CiAgICAgICAgdmFyIGlzTHQgPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IHRoaXMuZmlsZVNpemU7CgogICAgICAgIGlmICghaXNMdCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU0RTBBXHU0RjIwXHU4OUM2XHU5ODkxXHU1OTI3XHU1QzBGXHU0RTBEXHU4MEZEXHU4RDg1XHU4RkM3Ii5jb25jYXQodGhpcy5maWxlU2l6ZSwgIk1CXHU1NEU2ISIpKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIC8vIOS4iuS8oOi/m+W6pgogICAgaGFuZGxlVXBsb2FkUHJvY2VzczogZnVuY3Rpb24gaGFuZGxlVXBsb2FkUHJvY2VzcyhldmVudCwgZmlsZSkgewogICAgICB0aGlzLnZpZGVvVXBsb2FkUGVyY2VudCA9IE51bWJlcihmaWxlLnBlcmNlbnRhZ2UudG9GaXhlZCgwKSk7CiAgICB9LAogICAgLy8g5LiK5Lyg5oiQ5YqfCiAgICBoYW5kbGVVcGxvYWRTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWRTdWNjZXNzKHJlc3BvbnNlLCBmaWxlKSB7CiAgICAgIHRoaXMudmlkZW9VcGxvYWRQZXJjZW50ID0gMDsKCiAgICAgIGlmICh0aGlzLmlzU2hvd1N1Y2Nlc3NUaXApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS4iuS8oOaIkOWKnyEiKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucmVzcG9uc2VGbikgewogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5yZXNwb25zZUZuKHJlc3BvbnNlLCBmaWxlKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCByZXNwb25zZSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkvKDlpLHotKUKICAgIGhhbmRsZVVwbG9hZEVycm9yOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWRFcnJvcihlcnIsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS4iuS8oOWksei0pSwg6K+36YeN6K+VISIpOwogICAgICB0aGlzLnZpZGVvVXBsb2FkUGVyY2VudCA9IDA7CiAgICAgIHRoaXMuJGVtaXQoImVycm9yIiwgZXJyLCBmaWxlLCBmaWxlTGlzdCk7CiAgICB9LAogICAgLy8g5Yig6Zmk6KeG6aKRCiAgICBkb1JlbW92ZTogZnVuY3Rpb24gZG9SZW1vdmUoKSB7CiAgICAgIHRoaXMuJGVtaXQoImRlbGV0ZSIpOwogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIG51bGwpOwogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmJlZm9yZVJlbW92ZSkgewogICAgICAgIHRoaXMuZG9SZW1vdmUoKTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5iZWZvcmVSZW1vdmUgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICB2YXIgYmVmb3JlID0gdGhpcy5iZWZvcmVSZW1vdmUodGhpcy52YWx1ZSk7CgogICAgICAgIGlmIChiZWZvcmUgJiYgYmVmb3JlLnRoZW4pIHsKICAgICAgICAgIGJlZm9yZS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuZG9SZW1vdmUoKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICB9IGVsc2UgaWYgKGJlZm9yZSAhPT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuZG9SZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmkq3mlL7op4bpopEKICAgIGhhbmRsZVBsYXllclZpZGVvOiBmdW5jdGlvbiBoYW5kbGVQbGF5ZXJWaWRlbygpIHsKICAgICAgdGhpcy5pc1Nob3dWaWRlbyA9IHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AAEA;EACAA,sBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACA;IACAC;MACAC;IADA,CAFA;IAKA;IACAC;MACAD,YADA;MAEAE;IAFA,CANA;IAUA;IACAC,oBAXA;IAYA;IACAC;MACAJ;IADA,CAbA;IAgBA;IACAK;MACAL,YADA;MAEAM;IAFA,CAjBA;IAqBA;IACAC;MACAP;IADA,CAtBA;IAyBA;IACAQ;MACAR,aADA;MAEAM;IAFA,CA1BA;IA8BA;IACAG;MACAT,aADA;MAEAM;IAFA,CA/BA;IAmCA;IACAI;MACAV;IADA,CApCA;IAuCA;IACAW,eAxCA;IAyCA;IACAC;MACAZ,aADA;MAEAM;IAFA,CA1CA;IA8CA;IACAO;MACAb;IADA,CA/CA;IAkDA;IACAL;MACAK,YADA;MAEAM;IAFA,CAnDA;IAuDA;IACAQ,qBAxDA;IAyDA;IACAC,cA1DA;IA2DA;IACAC;EA5DA,CALA;EAmEAH,IAnEA,kBAmEA;IACA;MACAI,kBADA;MAEAC;IAFA;EAIA,CAxEA;EAyEAC;IACA;IACAC,OAFA,qBAEA;MACA;IACA;EAJA,CAzEA;EA+EAC;IACA;IACAC,uBAFA,mCAEAC,IAFA,EAEA;MACA;MACA;;MACA;QACA;QACAC;MACA,CAHA,MAGA;QACAA;MACA;;MAEA;QACA;QACA;MACA,CAbA,CAeA;;;MACA;QACA;;QACA;UACA;UACA;QACA;MACA;;MACA;IACA,CA1BA;IA4BA;IACAC,mBA7BA,+BA6BAC,KA7BA,EA6BAH,IA7BA,EA6BA;MACA;IACA,CA/BA;IAiCA;IACAI,mBAlCA,+BAkCAC,QAlCA,EAkCAL,IAlCA,EAkCA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CA5CA;IA8CA;IACAM,iBA/CA,6BA+CAC,GA/CA,EA+CAP,IA/CA,EA+CAQ,QA/CA,EA+CA;MACA;MACA;MACA;IACA,CAnDA;IAqDA;IACAC,QAtDA,sBAsDA;MACA;MACA;IACA,CAzDA;IA2DAC,YA3DA,0BA2DA;MAAA;;MACA;QACA;MACA,CAFA,MAEA;QACA;;QACA;UACAC,YACA;YACA;UACA,CAHA,EAIA,cAJA;QAMA,CAPA,MAOA;UACA;QACA;MACA;IACA,CA3EA;IA4EA;IACAC,iBA7EA,+BA6EA;MACA;IACA;EA/EA;AA/EA","names":["name","components","VueHoverMask","props","value","type","action","required","responseFn","fileSize","width","default","height","isShowTip","isShowSuccessTip","fileType","headers","withCredentials","data","httpRequest","accept","beforeRemove","isShowVideo","videoUploadPercent","computed","showTip","methods","handleBeforeUploadVideo","file","isVideo","handleUploadProcess","event","handleUploadSuccess","response","handleUploadError","err","fileList","doRemove","handleRemove","before","handlePlayerVideo"],"sourceRoot":"node_modules/vue-ele-upload-video/lib","sources":["EleUploadVideo.vue"],"sourcesContent":["<template>\r\n  <div class=\"ele-upload-video\">\r\n    <!-- 上传组件 -->\r\n    <el-upload\r\n      :accept=\"accept\"\r\n      :action=\"action\"\r\n      :before-upload=\"handleBeforeUploadVideo\"\r\n      :data=\"data\"\r\n      :disabled=\"videoUploadPercent > 0 && videoUploadPercent < 100\"\r\n      :headers=\"headers\"\r\n      :httpRequest=\"httpRequest\"\r\n      :name=\"name\"\r\n      :on-error=\"handleUploadError\"\r\n      :on-progress=\"handleUploadProcess\"\r\n      :on-success=\"handleUploadSuccess\"\r\n      :show-file-list=\"false\"\r\n      :withCredentials=\"withCredentials\"\r\n      drag\r\n      v-if=\"!value\"\r\n    >\r\n      <!-- 上传进度 -->\r\n      <el-progress\r\n        :percentage=\"videoUploadPercent\"\r\n        style=\"margin-top: 20px;\"\r\n        type=\"circle\"\r\n        v-if=\"videoUploadPercent > 0\"\r\n      />\r\n\r\n      <!-- 上传提示 -->\r\n      <template v-else>\r\n        <i class=\"el-icon-upload\"></i>\r\n        <div class=\"el-upload__text\">\r\n          将视频拖到此处，或\r\n          <em>点击上传</em>\r\n        </div>\r\n        <div class=\"el-upload__tip\" slot=\"tip\" v-if=\"showTip\">\r\n          请上传\r\n          <span style=\"color: #f56c6c;\"\r\n            >&nbsp;{{\r\n              this.fileType ? this.fileType.join(\"/\") : \"视频\"\r\n            }}&nbsp;</span\r\n          >格式文件\r\n          <template v-if=\"fileSize\">\r\n            ，且文件大小不超过\r\n            <span style=\"color: #f56c6c;\">{{ fileSize }}</span\r\n            >&nbsp;MB\r\n          </template>\r\n        </div>\r\n      </template>\r\n    </el-upload>\r\n\r\n    <!-- 视频缩略 -->\r\n    <vue-hover-mask v-if=\"value\">\r\n      <video\r\n        :autoplay=\"false\"\r\n        :src=\"value\"\r\n        :style=\"{\r\n          width: width + 'px',\r\n          height: height ? height + 'px' : 'auto',\r\n        }\"\r\n      >\r\n        您的浏览器不支持视频播放\r\n      </video>\r\n      <template v-slot:action>\r\n        <span @click=\"handlePlayerVideo\" class=\"ele-upload-video_mask__item\">\r\n          <i class=\"el-icon-zoom-in\"></i>\r\n        </span>\r\n        <span @click=\"handleRemove\" class=\"ele-upload-video_mask__item\">\r\n          <i class=\"el-icon-delete\"></i>\r\n        </span>\r\n      </template>\r\n    </vue-hover-mask>\r\n\r\n    <!-- 弹窗播放 -->\r\n    <el-dialog :visible.sync=\"isShowVideo\" append-to-body>\r\n      <video\r\n        :autoplay=\"true\"\r\n        :src=\"value\"\r\n        controls=\"controls\"\r\n        style=\"width: 100%;\"\r\n        v-if=\"isShowVideo\"\r\n      >\r\n        您的浏览器不支持视频播放\r\n      </video>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueHoverMask from \"vue-hover-mask\";\r\n\r\nexport default {\r\n  name: \"EleUploadVideo\",\r\n  components: {\r\n    VueHoverMask,\r\n  },\r\n  props: {\r\n    // 值\r\n    value: {\r\n      type: String,\r\n    },\r\n    // 上传地址\r\n    action: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    // 响应处理函数\r\n    responseFn: Function,\r\n    // 文件大小限制(Mb)\r\n    fileSize: {\r\n      type: Number,\r\n    },\r\n    // 显示宽度(px)\r\n    width: {\r\n      type: Number,\r\n      default: 360,\r\n    },\r\n    // 显示高度(默认auto)\r\n    height: {\r\n      type: Number,\r\n    },\r\n    // 是否显示提示\r\n    isShowTip: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 是否显示上传成功的提示\r\n    isShowSuccessTip: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 文件类型\r\n    fileType: {\r\n      type: Array,\r\n    },\r\n    // 设置上传的请求头部(同官网)\r\n    headers: Object,\r\n    // 支持发送 cookie 凭证信息 (同官网)\r\n    withCredentials: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 上传时附带的额外参数(同官网)\r\n    data: {\r\n      type: Object,\r\n    },\r\n    // 上传的文件字段名 (同官网)\r\n    name: {\r\n      type: String,\r\n      default: \"file\",\r\n    },\r\n    // 覆盖默认的上传行为，可以自定义上传的实现 (同官网)\r\n    httpRequest: Function,\r\n    // 接受上传的文件类型（thumbnail-mode 模式下此参数无效）(同官网)\r\n    accept: String,\r\n    // 删除前的操作(同官网)\r\n    beforeRemove: Function,\r\n  },\r\n  data() {\r\n    return {\r\n      isShowVideo: false,\r\n      videoUploadPercent: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    // 是否显示提示\r\n    showTip() {\r\n      return this.isShowTip && (this.fileType || this.fileSize);\r\n    },\r\n  },\r\n  methods: {\r\n    // 上传大小和格式检测\r\n    handleBeforeUploadVideo(file) {\r\n      // 校检格式\r\n      let isVideo = false;\r\n      if (Array.isArray(this.fileType)) {\r\n        const type = file.type.split(\"/\");\r\n        isVideo = type[0] === \"video\" && this.fileType.includes(type[1]);\r\n      } else {\r\n        isVideo = file.type.includes(\"video\");\r\n      }\r\n\r\n      if (!isVideo) {\r\n        this.$message.error(`${file.name}格式不正确, 请上传格式正确的视频`);\r\n        return false;\r\n      }\r\n\r\n      // 校检文件大小\r\n      if (this.fileSize) {\r\n        const isLt = file.size / 1024 / 1024 < this.fileSize;\r\n        if (!isLt) {\r\n          this.$message.error(`上传视频大小不能超过${this.fileSize}MB哦!`);\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    // 上传进度\r\n    handleUploadProcess(event, file) {\r\n      this.videoUploadPercent = Number(file.percentage.toFixed(0));\r\n    },\r\n\r\n    // 上传成功\r\n    handleUploadSuccess(response, file) {\r\n      this.videoUploadPercent = 0;\r\n      if (this.isShowSuccessTip) {\r\n        this.$message.success(\"上传成功!\");\r\n      }\r\n      if (this.responseFn) {\r\n        this.$emit(\"input\", this.responseFn(response, file));\r\n      } else {\r\n        this.$emit(\"input\", response);\r\n      }\r\n    },\r\n\r\n    // 上传失败\r\n    handleUploadError(err, file, fileList) {\r\n      this.$message.error(\"上传失败, 请重试!\");\r\n      this.videoUploadPercent = 0;\r\n      this.$emit(\"error\", err, file, fileList);\r\n    },\r\n\r\n    // 删除视频\r\n    doRemove() {\r\n      this.$emit(\"delete\");\r\n      this.$emit(\"input\", null);\r\n    },\r\n\r\n    handleRemove() {\r\n      if (!this.beforeRemove) {\r\n        this.doRemove();\r\n      } else if (typeof this.beforeRemove === \"function\") {\r\n        const before = this.beforeRemove(this.value);\r\n        if (before && before.then) {\r\n          before.then(\r\n            () => {\r\n              this.doRemove();\r\n            },\r\n            () => {}\r\n          );\r\n        } else if (before !== false) {\r\n          this.doRemove();\r\n        }\r\n      }\r\n    },\r\n    // 播放视频\r\n    handlePlayerVideo() {\r\n      this.isShowVideo = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.ele-upload-video_mask__item {\r\n  padding: 0 10px;\r\n}\r\n\r\n.ele-upload-video .el-upload__tip {\r\n  line-height: 12px;\r\n}\r\n</style>\r\n"]}]}